{"id":"guide/http-setup-server-communication","title":"HTTP：服务器通信设置","contents":"<div class=\"content\">\n  <h1 id=\"http-setup-for-server-communication\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5eofkdkpv1p5zxfxd802j38ii\">HTTP：服务器通信设置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-setup-server-communication#http-setup-for-server-communication\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"27dn33eto9axa53fah5d0ty9a\">在使用\n<code><a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a></code>之前，你必须将其添加到应用程序的\n<a href=\"guide/dependency-injection\">根依赖注入器</a>中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"le12xnhsricntvl5o0nqilue\">大多数应用程序将其添加到\n<code>app.config.ts</code>中\n<code><a href=\"api/core/ApplicationConfig\" class=\"code-anchor\">ApplicationConfig</a></code>的\n<code>providers</code>数组中。</p>\n<code-example header=\"app.config.ts (excerpt)\" path=\"http/src/app/app.config.ts\" region=\"sketch\">\nimport { <a href=\"api/core/ApplicationConfig\" class=\"code-anchor\">ApplicationConfig</a> } from '@angular/core';\nimport { <a href=\"api/common/http/HttpClientModule\" class=\"code-anchor\">HttpClientModule</a> } from '@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>';\nimport { <a href=\"api/core/importProvidersFrom\" class=\"code-anchor\">importProvidersFrom</a> } from '@angular/core';\n\nexport const appConfig: <a href=\"api/core/ApplicationConfig\" class=\"code-anchor\">ApplicationConfig</a> = {\n  providers: [\n    <a href=\"api/core/importProvidersFrom\" class=\"code-anchor\">importProvidersFrom</a>(<a href=\"api/common/http/HttpClientModule\" class=\"code-anchor\">HttpClientModule</a>),\n  ]\n};\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"331ts4mya4jref7tcaixpsyvo\">然后，你可以把 <code><a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a></code> 服务注入成一个应用类的依赖项，如下面的 <code>ConfigService</code> 例子所示。</p>\n<code-example header=\"app/config/config.service.ts (excerpt)\" path=\"http/src/app/config/config.service.ts\" region=\"proto\">\nimport { <a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a> } from '@angular/core';\nimport { <a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a> } from '@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>';\n\n@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a>()\nexport class ConfigService {\n  constructor(private <a href=\"api/common/http\" class=\"code-anchor\">http</a>: <a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a>) { }\n}\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"825eao4iba4fhy9p6nqsxm4rv\">你可以运行伴随本指南的\n<live-example name=\"http\"></live-example>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1sk4fms7erqf4qx3irr8zszi3\">示例应用不需要数据服务器。它依赖于 <a href=\"https://github.com/angular/angular/tree/main/packages/misc/angular-in-memory-web-api\">Angular 的 <em>in-memory-web-api</em></a>，该模块替换了 <em>HttpClient</em> 模块的 <code><a href=\"api/common/http/HttpBackend\" class=\"code-anchor\">HttpBackend</a></code>。这个替代服务模拟了 REST 后端的行为。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b6ph0mm4o8imlqvq821l565tf\">查看\n<code>main.ts</code>中的\n<code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a>()</code>方法，了解它的配置方式。</p>\n</div>\n\n  <div class=\"reviewed\">最后复查时间：Wed Aug 16 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/understanding-communicating-with-http\n-->\n<!-- links from this doc:\n - api/common/http\n - api/common/http/HttpBackend\n - api/common/http/HttpClient\n - api/common/http/HttpClientModule\n - api/core/ApplicationConfig\n - api/core/Injectable\n - api/core/importProvidersFrom\n - api/platform-browser/bootstrapApplication\n - guide/dependency-injection\n - guide/http-setup-server-communication#http-setup-for-server-communication\n - https://github.com/angular/angular/tree/main/packages/misc/angular-in-memory-web-api\n-->"}